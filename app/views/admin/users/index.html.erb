<%= render "headerMain" %>
<div class='flex flex-col items-start px-40'>
    <div class='py-10 text-4xl'>
        <%=t('todo.admin_title')%>
    </div>
    <%= link_to new_admin_user_path, class:'button' do %>
        <%= t('todo.add_user')%>
    <% end %>

    <div class='relative overflow-x-auto w-full py-5'>
        <table class='w-full text-sm text-center rtl:text-right text-gray-500 dark:text-gray-400'>
            <thead class="text-xs text-gray-700 uppercase bg-gray-300 dark:bg-gray-700 dark:text-gray-400">
                <tr>
                    <% [:name, :email, :role, :create_time, :task_num].each do |attr| %>
                        <th scope="col" class='px-6 py-4'><%= User.human_attribute_name(attr)%></th>
                    <% end %>
                </tr>
            </thead>
            <tbody>
                <% @users.each do |user|%>
                    <tr onclick="window.location = '<%= admin_user_path(user) %>'" class='bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-200 dark:hover:bg-gray-900'>
                        <td scope="row" class='px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white'><%= user.name %></td>
                        <td class='px-6 py-4'><%= user.email %></td>
                        <% if user.manager %>
                          <td class='px-6 py-4'><%= User.human_attribute_name(:admin) %></td>
                        <% else %>
                          <td class='px-6 py-4'><%= User.human_attribute_name(:user) %></td>
                        <% end %>
                        <td class='px-6 py-4'><%= user.created_at.strftime("%Y-%m-%d") %></td>
                        <td class='px-6 py-4'><%= user.tasks_count %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>

</div>